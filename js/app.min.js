(()=>{"use strict";let e=!1;setTimeout((()=>{if(e){let e=new Event("windowScroll");window.addEventListener("scroll",(function(t){document.dispatchEvent(e)}))}}),0);document.querySelector("[data-scroller]");const t=gsap.utils.toArray("section"),o=document.querySelector("[data-draggable]"),n=gsap.utils.toArray("[data-link]"),i=window.matchMedia("(prefers-reduced-motion: reduce)"),r=()=>.918*o.offsetWidth-n[n.length-1].offsetWidth,a=()=>{const e=-1*o.getBoundingClientRect().left,t=r(),n=23*document.documentElement.offsetHeight+110-window.innerHeight,i=gsap.utils.mapRange(0,t,0,n,e);c.scroll(i)},s=gsap.timeline().to(o,{x:()=>-1*r(),ease:"none"}),c=ScrollTrigger.create({animation:s,scrub:0});Draggable.create(o,{type:"x",inertia:!0,bounds:{minX:0,maxX:-1*r()},edgeResistance:1,onDragStart:()=>c.disable(),onDragEnd:()=>c.enable(),onDrag:a,onThrowUpdate:a});i.matches||t.forEach(((e,t)=>{const o=e.querySelector("h2"),i=e.querySelector(".section__image");gsap.set(o,{opacity:0,y:50}),gsap.set(i,{opacity:0,rotateY:15}),gsap.timeline({scrollTrigger:{trigger:e,start:()=>"top center",end:()=>`+=${window.innerHeight}`,toggleActions:"play reverse play reverse"}}).to(i,{opacity:1,rotateY:-5,duration:6,ease:"elastic"}).to(o,{opacity:1,y:0,duration:2},.5),gsap.timeline({scrollTrigger:{trigger:e,start:"top 20px",end:()=>"bottom top",toggleActions:"play none play reverse",onToggle:({isActive:e})=>{const o=n[t];e?o.classList.add("is-active"):o.classList.remove("is-active")}}})})),o.addEventListener("keyup",(e=>{const t=e.target.getAttribute("href");if(!t||"Tab"!==e.key)return;const o=document.querySelector(t).getBoundingClientRect().top+window.scrollY;c.scroll(o)})),window.FLS=!0,function(e){let t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}))})();